(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,r,t){e.exports=t(28)},27:function(e,r,t){},28:function(e,r,t){"use strict";t.r(r);var n=t(0),a=t.n(n),u=t(4),o=t.n(u),c=t(3),l=t(8),i=t(11),s={allCurrencyObj:{},fromCurrencyName:"",toCurrencyName:"",fromCurrencyValue:"",toCurrencyValue:"",urlAPI:"https://www.cbr-xml-daily.ru/daily_json.js"},p=function(){var e,r,t,n,a,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"SET_ALL_CURRENCY_OBJ":return e=o.payload.allCurrencyObj,Object(i.a)({},u,{allCurrencyObj:e});case"SET_CURRENCY_VALUES":var c=o.payload;return r=c.fromCurrencyValue,t=c.toCurrencyValue,Object(i.a)({},u,{fromCurrencyValue:r,toCurrencyValue:t});case"SET_CURRENCY_NAMES_AND_VALUES":var l=o.payload;n=l.fromCurrencyName,a=l.toCurrencyName;var p=o.payload;return r=p.fromCurrencyValue,t=p.toCurrencyValue,Object(i.a)({},u,{fromCurrencyName:n,toCurrencyName:a,fromCurrencyValue:r,toCurrencyValue:t});default:return u}},m=Object(c.b)({converter:p}),C=t(5),y=t(6),f=t(9),_=t(7),N=t(10),h=(t(27),function(e){function r(){var e,t;Object(C.a)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(t=Object(f.a)(this,(e=Object(_.a)(r)).call.apply(e,[this].concat(a)))).validate=function(e,r){return r.split("").filter(function(r){return e.test(r)}).join("")},t.separateNumbers=function(e){return e.length>1?((e=e.split("."))[0]=e[0].split("").filter(function(e){return" "!==e}).reduce(function(e,r,t,n){return t%3===n.length%3?e+" "+r:e+r}),e.join(",")):e},t.inputLogic=function(e){e.value=t.validate(/[0-9,]/,e.value)},t}return Object(N.a)(r,e),Object(y.a)(r,[{key:"componentDidMount",value:function(){var e=this.props.preRenderFunction;(void 0===e?function(){}:e)()}},{key:"render",value:function(){var e=this,r=this.props.currencyList,t=this.props,n=t.fromCurrencyName,u=t.toCurrencyName,o=this.props,c=o.fromCurrencyValue,l=o.toCurrencyValue;c=this.separateNumbers(c+""),l=this.separateNumbers(l+"");var i=c.length>0?"visible":"hidden",s=this.props,p=s.onFromInputChange,m=s.onToInputChange,C=this.props,y=C.onFromDropListChange,f=C.onToDropListChange,_=this.props.onRemoveTextButtonClick;return a.a.createElement("div",{className:"converter"},a.a.createElement("div",{className:"list-input"},a.a.createElement("div",{className:"list-input__drop-list"},a.a.createElement("button",{className:"list-input__drop-list__button"},n),a.a.createElement("ul",{className:"list-input__drop-list__list"},r.map(function(e){return a.a.createElement("li",{key:e,className:"list-input__drop-list__list__item",onMouseDown:function(e){return y(e)}},e)}))),a.a.createElement("div",{className:"list-input__smart-input"},a.a.createElement("input",{className:"list-input__smart-input__input",type:"text",maxLength:"20",placeholder:"FROM",value:c,onChange:function(r){e.inputLogic(r.target),p(r)}}),a.a.createElement("button",{className:"list-input__smart-input__button-remove-text ".concat(i),onClick:function(e){return _(e)}},"X"))),a.a.createElement("div",{className:"list-input"},a.a.createElement("div",{className:"list-input__drop-list"},a.a.createElement("button",{className:"list-input__drop-list__button"},u),a.a.createElement("ul",{className:"list-input__drop-list__list"},r.map(function(e){return a.a.createElement("li",{key:e,className:"list-input__drop-list__list__item",onMouseDown:function(e){return f(e)}},e)}))),a.a.createElement("div",{className:"list-input__smart-input"},a.a.createElement("input",{className:"list-input__smart-input__input",type:"text",maxLength:"20",placeholder:"TO",value:l,onChange:function(r){e.inputLogic(r.target),m(r)}}),a.a.createElement("button",{className:"list-input__smart-input__button-remove-text ".concat(i),onClick:function(e){return _(e)}},"X"))))}}]),r}(a.a.Component)),v=function(e){function r(){var e,t;Object(C.a)(this,r);for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return(t=Object(f.a)(this,(e=Object(_.a)(r)).call.apply(e,[this].concat(a)))).preRenderFunction=function(){var e=t.props.setAllCurrencyObj,r=t.props.setCurrencyNamesAndValues,n=t.props.urlAPI,a=t.props,u=a.fromCurrencyValue,o=a.toCurrencyValue;fetch(n).then(function(e){return e.json()}).then(function(t){var n=Object.keys(t.Valute).sort(),a={RUB:{Value:1,Nominal:1}};n.forEach(function(e){var r=t.Valute[e],n=r.CharCode,u=r.Nominal,o=r.Value;a[n]={Nominal:u,Value:o}}),r(n[0],n[1],u,o),e(a)})},t.convert=function(e,r,t,n){if(""===e)return"";var a=n[r],u=n[t];return e=e.split(/ /).join("").split(/,/).join("."),Math.ceil(e*a.Value/a.Nominal*u.Nominal/u.Value*100)/100+""},t.castToNumber=function(e){return e.split(/ /).join("").split(/,/).join(".")},t.onFromInputChange=function(e){var r=t.props.setCurrencyValues,n=t.props,a=n.fromCurrencyName,u=n.toCurrencyName,o=n.allCurrencyObj;r(t.castToNumber(e.target.value),t.convert(e.target.value,a,u,o))},t.onToInputChange=function(e){var r=t.props.setCurrencyValues,n=t.props,a=n.fromCurrencyName,u=n.toCurrencyName,o=n.allCurrencyObj;r(t.convert(e.target.value,u,a,o),t.castToNumber(e.target.value))},t.onFromDropListChange=function(e){var r,n,a=t.props.setCurrencyNamesAndValues,u=t.props,o=u.fromCurrencyName,c=u.toCurrencyName,l=u.allCurrencyObj,i=t.props.fromCurrencyValue;e.target.innerHTML===c?(r=c,n=o):(r=e.target.innerHTML,n=c),a(r,n,i,t.convert(i,r,n,l))},t.onToDropListChange=function(e){var r,n,a=t.props.setCurrencyNamesAndValues,u=t.props,o=u.fromCurrencyName,c=u.toCurrencyName,l=u.allCurrencyObj,i=t.props.fromCurrencyValue;e.target.innerHTML===o?(r=c,n=o):(r=o,n=e.target.innerHTML),a(r,n,i,t.convert(i,r,n,l))},t.onRemoveTextButtonClick=function(e){(0,t.props.setCurrencyValues)("","")},t}return Object(N.a)(r,e),Object(y.a)(r,[{key:"render",value:function(){var e=this.props,r=e.fromCurrencyName,t=e.toCurrencyName,n=this.props,u=n.fromCurrencyValue,o=n.toCurrencyValue,c=Object.keys(this.props.allCurrencyObj).sort();return a.a.createElement(h,{currencyList:c,preRenderFunction:this.preRenderFunction,fromCurrencyName:r,toCurrencyName:t,fromCurrencyValue:u,toCurrencyValue:o,onFromInputChange:this.onFromInputChange,onToInputChange:this.onToInputChange,onFromDropListChange:this.onFromDropListChange,onToDropListChange:this.onToDropListChange,onRemoveTextButtonClick:this.onRemoveTextButtonClick})}}]),r}(a.a.Component),d={setAllCurrencyObj:function(e){return{type:"SET_ALL_CURRENCY_OBJ",payload:{allCurrencyObj:e}}},setCurrencyValues:function(e,r){return{type:"SET_CURRENCY_VALUES",payload:{fromCurrencyValue:e,toCurrencyValue:r}}},setCurrencyNamesAndValues:function(e,r,t,n){return{type:"SET_CURRENCY_NAMES_AND_VALUES",payload:{fromCurrencyName:e,toCurrencyName:r,fromCurrencyValue:t,toCurrencyValue:n}}}},b=Object(l.b)(function(e){var r=e.converter;return{allCurrencyObj:r.allCurrencyObj,fromCurrencyName:r.fromCurrencyName,toCurrencyName:r.toCurrencyName,fromCurrencyValue:r.fromCurrencyValue,toCurrencyValue:r.toCurrencyValue,urlAPI:"https://www.cbr-xml-daily.ru/daily_json.js"}},d)(v),V=Object(c.c)(m);o.a.render(a.a.createElement(function(){return a.a.createElement(l.a,{store:V},a.a.createElement(b,null))},null),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.932c4d01.chunk.js.map